@model UsuarioViewModel
@{
    ViewData["Title"] = "Panel Administrador";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />

<style>
    body {
        background-color: #f8fafc;
        font-family: 'Poppins', sans-serif;
        color: #1e293b;
        margin: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }

    .main-container {
        flex: 1;
        padding: 3rem 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
        width: 100%;
    }

    /* Franja de Perfil Superior */
    .admin-header {
        background: white;
        border-radius: 20px;
        padding: 1.5rem 2.5rem;
        box-shadow: 0 4px 15px rgba(0,0,0,0.03);
        border: 1px solid #edf2f7;
        margin-bottom: 3rem;
        display: flex;
        align-items: center;
        justify-content: space-between; /* Esto empuja el logout a la derecha */
    }

    .user-info {
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .profile-img-wrapper img {
        width: 75px;
        height: 75px;
        border-radius: 15px;
        object-fit: cover;
        border: 2px solid #fff;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .welcome-text h2 {
        font-weight: 600;
        margin: 0;
        color: #0f172a;
        font-size: 1.4rem;
    }

    .role-badge {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        background-color: #eff6ff;
        color: #2563eb;
        padding: 4px 12px;
        border-radius: 8px;
        font-weight: 700;
    }

    /* Botón Logout COMBINADO (Texto + Ícono) */
    .logout-btn-combined {
        display: flex;
        align-items: center;
        gap: 12px;
        background-color: #fff;
        border: 1px solid #fee2e2;
        padding: 8px 20px;
        height: 46px;
        border-radius: 12px;
        color: #ef4444;
        transition: all 0.3s ease;
        cursor: pointer;
        text-decoration: none;
    }

        .logout-btn-combined span {
            font-size: 0.9rem;
            font-weight: 600;
        }

        .logout-btn-combined i {
            font-size: 1.4rem;
            line-height: 1;
        }

        .logout-btn-combined:hover {
            background-color: #ef4444;
            color: white;
            border-color: #ef4444;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.15);
        }

    /* Cuadros de Opciones */
    .options-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 2rem;
    }

    .card-option {
        background: white;
        border-radius: 20px;
        padding: 3rem 2rem;
        border: 1px solid #edf2f7;
        text-align: center;
        transition: all 0.3s ease;
        text-decoration: none;
        color: inherit;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

        .card-option:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.06);
            border-color: #3b82f6;
        }

    /* ÍCONOS de las tarjetas */
    .icon-display {
        font-size: 4rem; /* Tamaño grande para que se vea claro */
        color: #3b82f6; /* Azul corporativo */
        margin-bottom: 1.5rem;
        transition: transform 0.3s ease;
    }

    .card-option:hover .icon-display {
        transform: scale(1.1);
    }

    .card-option h4 {
        font-weight: 600;
        font-size: 1.25rem;
        margin-bottom: 0.8rem;
        color: #1e293b;
    }

    .card-option p {
        color: #64748b;
        font-size: 0.95rem;
        line-height: 1.5;
        margin: 0;
    }

    /* Footer Mejorado */
    /* Footer */
    .footer {
        background-color: #ffffff;
        border-top: 1px solid var(--border-color);
        padding: 1.25rem 0;
    }
</style>

<div class="main-container">

    <div class="text-center mb-5">
        <img src="/images/ClinicaSantaRosaLogo.png" alt="Clinica SR" style="width: 180px;">
    </div>

    <div class="admin-header">
        <div class="user-info">
            <div class="profile-img-wrapper">
                <img src="@Model.ImgPerfil" alt="Perfil" />
            </div>
            <div class="welcome-text">
                <h2>¡Hola, @Model.Nombres!</h2>
                <span class="role-badge">@Model.Rol</span>
            </div>
        </div>

        <form asp-controller="Seguridad" asp-action="Logout" method="post" id="logoutForm">
            <button type="submit" class="logout-btn-combined border-1">
                <span>Cerrar Sesión</span>
                <i class="bi bi-power fs-4"></i>
            </button>
        </form>
    </div>

    <div class="options-grid">

        <a asp-controller="Usuarios" asp-action="RegistrarUsuario" class="card-option">
            <i class="bi bi-shield-lock-fill icon-display"></i>
            <h4>Seguridad</h4>
            <p>Control de accesos, perfiles y protección de datos.</p>
        </a>

        <a asp-controller="Medico" asp-action="IndexMedico" class="card-option">
            <i class="bi bi-person-vcard-fill icon-display"></i>
            <h4>Cuerpo Médico</h4>
            <p>Administración de especialistas y personal clínico.</p>
        </a>

        <a asp-controller="Horario" asp-action="Gestionar" class="card-option">
            <i class="bi bi-calendar-check-fill icon-display"></i>
            <h4>Horarios</h4>
            <p>Planificación de turnos y disponibilidad médica.</p>
        </a>

        <a asp-controller="Especialidades" asp-action="Index" class="card-option">
            <i class="bi bi-heart-pulse-fill icon-display"></i>
            <h4>Servicios</h4>
            <p>Gestión de especialidades y áreas de atención.</p>
        </a>

    </div>
</div>

<footer class="footer mt-auto">
    <div class="container text-center">
        <span class="text-muted small">© 2025 - <span class="fw-bold text-primary">Clínica Santa Rosa</span> | Panel de Control Administrativo</span>
    </div>
</footer>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        const successMsg = '@TempData["Success"]';
        if (successMsg) Swal.fire({ icon: 'success', title: 'Excelente', text: successMsg, confirmButtonColor: '#3b82f6' });
    </script>
}