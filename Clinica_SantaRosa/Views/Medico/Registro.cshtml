@using ClinicaSR.BL.BE
@model ClinicaSR.BL.BE.MedicoBE

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>Registrar Médico | Clínica SR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />

    <style>
        body {
            background-color: #f1f5f9;
            font-family: "Segoe UI", system-ui, sans-serif;
        }

        .card-hospital {
            max-width: 850px;
            margin: auto;
            border-radius: 14px;
            border: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .header-hospital {
            background: linear-gradient(90deg, #0d6efd, #2563eb);
            color: white;
            padding: 1.2rem 1.5rem;
            border-radius: 14px 14px 0 0;
        }

            .header-hospital h5 {
                margin: 0;
                font-weight: 600;
            }

        .sub-header {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .form-label {
            font-weight: 600;
        }

        .form-control, .form-select {
            border-radius: 0.5rem;
            padding: 0.55rem 0.75rem;
        }

            .form-control:focus, .form-select:focus {
                border-color: #0d6efd;
                box-shadow: 0 0 0 0.15rem rgba(13,110,253,.25);
            }

        .btn-primary, .btn-outline-secondary {
            border-radius: 0.35rem;
            font-size: 1rem;
            padding: 0.5rem 1.2rem;
        }

        .footer-actions {
            background-color: #f8fafc;
            border-top: 1px solid #dee2e6;
            padding: 0.75rem 1.5rem;
            border-radius: 0 0 14px 14px;
            text-align: center;
            font-size: 0.85rem;
            color: #6c757d;
        }
    </style>
</head>

<body class="py-5">

    <div class="card card-hospital">

        <div class="header-hospital">
            <h5>Registrar Médico</h5>
            <div class="sub-header">Ingrese los datos del nuevo médico</div>
        </div>

        <div class="card-body">
            <form asp-action="Registro" method="post" class="row g-3">
                @Html.AntiForgeryToken()
                <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                <!-- Nombres -->
                <div class="col-md-6">
                    <label asp-for="Nombres" class="form-label"></label>
                    <input asp-for="Nombres" class="form-control" placeholder="Ingrese nombres" />
                    <span asp-validation-for="Nombres" class="text-danger small"></span>
                </div>

                <!-- Apellidos -->
                <div class="col-md-6">
                    <label asp-for="Apellidos" class="form-label"></label>
                    <input asp-for="Apellidos" class="form-control" placeholder="Ingrese apellidos" />
                    <span asp-validation-for="Apellidos" class="text-danger small"></span>
                </div>

                <!-- DNI -->
                <div class="col-md-4">
                    <label asp-for="DNI" class="form-label"></label>
                    <input asp-for="DNI" class="form-control" placeholder="Ingrese DNI" />
                    <span asp-validation-for="DNI" class="text-danger small"></span>
                </div>

                <!-- Nro Colegiatura -->
                <div class="col-md-4">
                    <label asp-for="Nro_Colegiatura" class="form-label"></label>
                    <input asp-for="Nro_Colegiatura" class="form-control" placeholder="Ingrese Nro. Colegiatura" />
                    <span asp-validation-for="Nro_Colegiatura" class="text-danger small"></span>
                </div>

                <!-- Teléfono -->
                <div class="col-md-4">
                    <label asp-for="Telefono" class="form-label"></label>
                    <input asp-for="Telefono" class="form-control" placeholder="Ingrese teléfono" />
                    <span asp-validation-for="Telefono" class="text-danger small"></span>
                </div>

                <!-- Especialidad -->
                <div class="col-md-6">
                    <label class="form-label">Especialidad</label>
                    <select asp-for="EspecialidadBE.ID_Especialidad" class="form-select"
                            asp-items='@new SelectList(ViewBag.Especialidades, "ID_Especialidad", "Nombre", Model?.EspecialidadBE?.ID_Especialidad)'>
                        <option value="">-- Seleccione especialidad --</option>
                    </select>
                    <span asp-validation-for="EspecialidadBE.ID_Especialidad" class="text-danger small"></span>
                </div>

                <!-- Botones -->
                <div class="col-12 mt-4 d-flex justify-content-end gap-2">
                    <a asp-action="IndexMedico" class="btn btn-outline-secondary btn-lg">🔙 Volver al listado</a>
                    <button type="submit" class="btn btn-primary btn-lg">💾 Registrar médico</button>
                </div>
            </form>
        </div>

        <div class="footer-actions">
            Clínica Santa Rosa · Sistema de Gestión
        </div>

    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var tempAlert = '@TempData["Alert"]';
        if (tempAlert) {
            var parts = tempAlert.split('|'); // formato: tipo|titulo|mensaje
            Swal.fire({
                icon: parts[0],
                title: parts[1],
                text: parts[2],
                confirmButtonColor: parts[0] === 'success' ? '#0d6efd' : '#dc3545'
            });
        }
    });
</script>

</html>

